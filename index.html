<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Switch Controller Data</title>
</head>
<body>
    <h1>Switchコントローラーデータ</h1>
    <div id="gamepad-data"></div>

    <script>
        window.addEventListener("gamepadconnected", (event) => {
            console.log("Gamepad connected:", event.gamepad);
            updateGamepadData();
        });

        window.addEventListener("gamepaddisconnected", (event) => {
            console.log("Gamepad disconnected:", event.gamepad);
        });

        function updateGamepadData() {
            const gamepads = navigator.getGamepads();
            for (const gamepad of gamepads) {
                if (gamepad) {
                    const dataDiv = document.getElementById("gamepad-data");

                    // 加速度 (加速度センサーのデータ)
                    const accel = gamepad.axes.slice(0, 3);
                    // 角速度 (ジャイロスコープのデータ)
                    const gyro = gamepad.axes.slice(3, 6);

                    dataDiv.innerHTML = `
                        <p>加速度 (x, y, z): ${accel.join(", ")}</p>
                        <p>角速度 (x, y, z): ${gyro.join(", ")}</p>
                    `;
                }
            }
            requestAnimationFrame(updateGamepadData);
        }
    </script>
</body>
</html>
